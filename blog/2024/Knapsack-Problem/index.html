<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <hr> <p>layout: post title: KnapsackProblem date: 2025-05-29 description: tags: math optimization categories: math Knapsack related_posts: false ———————</p> <h1 id="knapsack-problem---intro">Knapsack Problem - Intro</h1> <p>While going through “The Design of Approximation Algorithm”, I encountered an interesting section: The Knapsack Problem. Well, from <strong>Combinatorial Optimization</strong> by Bernhard Korte &amp; Jens Vygen, the book introduces this problem as “easiest NP-hard problem” compared to the MINIMUM WEIGHT PERFECT MATCHING PROBLEM.</p> <h2 id="the-application-of-knapsack-problem">The Application of Knapsack Problem.</h2> <ol> <li>Cargo Loading &amp; Container Packing: A shipping company must pack a container or truck under weight/volume limits.</li> <li>Investment Portfolio Selection: An investor allocates a fixed budget among assets or projects to maximize expected return.</li> <li>Project &amp; Budget Selection (Capital Budgeting): A firm chooses which R\&amp;D or capital projects to fund within its available capital.</li> <li>Advertisement Slot Scheduling: An online platform fills limited ad slots (time or impressions) to maximize ad revenue.</li> <li>Cloud Computing Resource Allocation: A data center assigns virtual machines to servers under CPU/memory/energy constraints. –– Answered by ChatGPT</li> </ol> <h2 id="problem-simplified-version">Problem (Simplified Version)</h2> <p>A traveler with a knapsack comes across a treasure hoard. Unfortunately, his knapsack can hold only so much. What items should he place in his knapsack in order to maximize the value of the items he takes away?</p> <p><strong>Problem Definition</strong> Given a set of $n$ items $I = {1,2,\dots,n},$ where each item $i\in I$ has</p> <ul> <li>weight $w_i &gt; 0$</li> <li>value $v_i &gt; 0$</li> </ul> <p>and given a knapsack capacity $W &gt; 0$, find a subset $S \subseteq I$ such that</p> \[\sum_{i \in S} w_i \;\le\; W\] <p>and the total value</p> \[\sum_{i \in S} v_i\] <p>is maximized.</p> <h2 id="dp-solution">DP Solution</h2> <p>This problem can be solved using Dynamic Programming by computing, for each prefix of items and each weight limit, the maximum achievable value.</p> <p>Define</p> \[f(i,w) \;=\; \max\Bigl\{\sum_{j\in S} v_j \;\big|\; S\subseteq\{1,\dots,i\},\;\sum_{j\in S} w_j \le w\Bigr\}.\] <p>Initialize</p> \[f(0,w) = 0 \quad\forall\,0\le w\le B.\] <p>Then for $i=1,\dots,n$ and $0\le w\le B$:</p> \[f(i,w) = \begin{cases} f(i-1,w), &amp; w_i &gt; w,\\ \displaystyle\max\bigl(f(i-1,w),\,f(i-1,w - w_i) + v_i\bigr), &amp; w_i \le w. \end{cases}\] <p>The optimal value is $f(n,B)$. This runs in</p> \[O(nB).\] <p>Equivalently, one can do a value-based DP:</p> \[g(i,v) \;=\; \min\Bigl\{\sum_{j\in S} w_j \;\big|\; S\subseteq\{1,\dots,i\},\;\sum_{j\in S} v_j \ge v\Bigr\},\] <p>which yields running time</p> \[O(nV).\] <p>Hence overall time complexity is</p> \[O\bigl(n\min\{B,V\}\bigr).\] <h2 id="rounding-solution">Rounding Solution</h2> <p>To obtain a Fully Polynomial-Time Approximation Scheme (FPTAS), proceed as follows:</p> <ol> <li> <p>Let $v_{\max} = \max_i v_i$ and choose</p> \[K = \frac{\varepsilon\,v_{\max}}{n}.\] </li> <li> <p>Define scaled values</p> \[v_i' = \left\lfloor \frac{v_i}{K} \right\rfloor \quad\forall i.\] </li> <li> <p>Run the value-based DP on $v_i’$ instead of $v_i$. This produces a solution whose total original value is at least $(1-\varepsilon)$ times optimum.</p> </li> </ol> <p>The running time is</p> \[O\Bigl(n\sum_{i=1}^n v_i'\Bigr) = O\Bigl(n\cdot \frac{\sum_i v_i}{K}\Bigr) = O\Bigl(\tfrac{n^2\,v_{\max}}{\varepsilon\,v_{\max}}\Bigr) = O\bigl(\tfrac{n^2}{\varepsilon}\bigr).\] <p>With more careful implementation one can achieve</p> \[O\Bigl(\tfrac{n^3}{\varepsilon}\Bigr)\] <p>or even</p> \[O\Bigl(\tfrac{n^2}{\varepsilon}\Bigr)\] <p>depending on how the DP is structured.</p> <p>I have made a Knapsack Calculator here:</p> <iframe src="/assets/webProject/Knapsack/index.html" width="100%" height="600" style="border:1px solid #ccc; border-radius:4px;" sandbox="allow-scripts allow-same-origin"> 당신의 브라우저가 iframe을 지원하지 않습니다. </iframe> </body></html>